import{A as M,c as Q,a as H}from"./index-7vPZ68zD.js";import{_ as W,S as j,J as Z,F as K,a as F,E as V,u as J,b as Y,c as q,I as X}from"./ImageUpload-Da6E57V4.js";import{c as i,d,e as t,f as b,t as c,F as y,g as v,n as p,h as _,w as N,v as U,i as $,j as T,k as G,_ as L,C as ee,l as D,m as te}from"./index-D5bctyeh.js";import{F as I,D as O}from"./useAdmin-DsMuefRX.js";const se={setup(){const{stockData:a,loadStockData:e}=J(D(!1)),{groupedSidebar:l}=Y(a,D({}),D("")),r=D([]);return{stockData:a,loadStockData:e,groupedSidebar:l,brands:r}},data(){return{selectedBrands:[],onlyWithPhotos:!0,minQtyEnabled:!1,minQty:5,pdfMode:"separate",zipMode:"separate",zipBatchMode:!1,isGenerating:!1,isPdfGenerating:!1,isZipGenerating:!1,isSharing:!1,showBatchModal:!1,batchList:[],currentBatchIndex:0,mobileTab:"brands",currentBrand:"",completedCount:0,showToast:!1,toastMessage:""}},computed:{isNativeApp(){return ee.isNativePlatform()}},async mounted(){await this.loadStockData(),this.brands=this.stockData.map(a=>a.groupName).sort(),M.addListener("backButton",()=>{this.$router.currentRoute.value.path==="/pdf-gen"&&this.$router.push("/")})},beforeUnmount(){M.removeAllListeners()},methods:{formatProductName(a){return a?a.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""},getBrandLogo(a){const e={Paragon:"https://res.cloudinary.com/dg365ewal/image/upload/v1749667072/paragonLogo_rqk3hu.webp",Reliance:"https://res.cloudinary.com/dg365ewal/image/upload/v1749667072/relianceLogo_bvgwwz.png",Cubix:"https://res.cloudinary.com/dg365ewal/image/upload/v1749667073/cubixLogo_bwawj3.jpg",Florex:"https://res.cloudinary.com/dg365ewal/image/upload/v1749667072/florexLogo_wn50tj.jpg",Eeken:"https://res.cloudinary.com/dg365ewal/image/upload/v1749668232/eekenLogo_rg5xwa.webp",Escoute:"https://res.cloudinary.com/dg365ewal/image/upload/v1749667072/escouteLogo_maieji.jpg"},l=a.toLowerCase(),r=Object.keys(e).find(s=>l.includes(s.toLowerCase()));return r?e[r]:null},toggleBrand(a){this.selectedBrands.includes(a)?this.selectedBrands=this.selectedBrands.filter(e=>e!==a):this.selectedBrands.push(a)},isCategorySelected(a){const e=this.groupedSidebar[a];return!e||e.length===0?!1:e.every(l=>{const r=a==="topBrands"?l.group.groupName:l.groupName;return this.selectedBrands.includes(r)})},toggleCategory(a,e){const l=e.target.checked,r=this.groupedSidebar[a];r&&r.forEach(s=>{const n=a==="topBrands"?s.group.groupName:s.groupName;l?this.selectedBrands.includes(n)||this.selectedBrands.push(n):this.selectedBrands=this.selectedBrands.filter(o=>o!==n)})},scrollToGenerate(){this.$nextTick(()=>{var a;(a=this.$refs.generateSection)==null||a.scrollIntoView({behavior:"smooth",block:"center"})})},async loadBrands(){try{const a=await F.get("https://raw.githubusercontent.com/sahilsync07/sbe/main/frontend/public/assets/stock-data.json");this.brands=[...new Set(a.data.map(e=>e.groupName))].sort()}catch{this.showToast=!0,this.toastMessage="Failed to load brands ‚Äî check internet",setTimeout(()=>this.showToast=!1,3e3)}},async generatePdfBlob(a){const l=this.stockData.filter(u=>a.includes(u.groupName)),r=new V({orientation:"portrait",unit:"pt",format:"a4"}),s=r.internal.pageSize.getWidth(),n=r.internal.pageSize.getHeight();let o=!1;for(const u of l){let h=!0;for(const g of u.products){if(this.onlyWithPhotos&&!g.imageUrl||this.minQtyEnabled&&g.quantity<=this.minQty)continue;o&&r.addPage(),o=!0,r.setFillColor("#faf8f6"),r.rect(0,0,s,n,"F"),r.setDrawColor("#e0e0e0"),r.setLineWidth(3),r.path([{op:"m",c:[0,0]},{op:"l",c:[200,80]},{op:"c",c:[266,26,400,33,600,100]}]),r.stroke();const f=n;if(r.path([{op:"m",c:[0,f]},{op:"l",c:[250,f-100]},{op:"c",c:[316,f-33,433,f-16,600,f-50]}]),r.stroke(),h&&(r.setTextColor(0,0,0),r.setTextColor(200,200,200),r.setFont("helvetica","bold"),r.setFontSize(28),r.text(u.groupName,s/2,35,{align:"center"}),h=!1),g.imageUrl)try{const x=await this.fetchImageAsBase64(g.imageUrl),m=s-40,B=n-150,w=await this.getImageDimensions(x),k=Math.min(m/w.width,B/w.height,1),C=w.width*k,S=w.height*k,P=(s-C)/2,R=60;r.addImage(x,"JPEG",P,R,C,S);const E=R+S+25;r.setTextColor(0,0,0),r.setFont("helvetica","bold"),r.setFontSize(16),r.text(g.productName,s/2,E,{align:"center"}),r.setTextColor(212,0,0),r.setFontSize(18),r.text(`Qty: ${g.quantity}`,s/2,E+30,{align:"center"})}catch(x){console.error(`Image failed: ${g.productName}`,x),r.setTextColor(0),r.setFontSize(16),r.text("Image Load Failed",s/2,n/2,{align:"center"})}else r.setTextColor(0),r.setFontSize(20),r.text(g.productName,s/2,n/2-20,{align:"center"}),r.text(`Qty: ${g.quantity}`,s/2,n/2+20,{align:"center"})}}return r.output("blob")},async fetchImageAsBase64(a){const e=await F.get(a,{responseType:"arraybuffer"}),l=btoa(new Uint8Array(e.data).reduce((r,s)=>r+String.fromCharCode(s),""));return`data:${e.headers["content-type"]};base64,${l}`},async getImageDimensions(a){return new Promise(e=>{const l=new Image;l.onload=()=>e({width:l.width,height:l.height}),l.src=a})},async generatePdf(){if(!this.selectedBrands.length){this.showToast=!0,this.toastMessage="Select at least one brand first",setTimeout(()=>this.showToast=!1,3e3);return}if(this.isGenerating=!0,this.isPdfGenerating=!0,this.completedCount=0,this.pdfMode==="combined"){this.currentBrand="Merging All Brands...";try{const a=await this.generatePdfBlob(this.selectedBrands),l=`CATALOG_COMBINED_${new Date().toISOString().split("T")[0]}.pdf`,r=window.URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.download=l,s.click(),window.URL.revokeObjectURL(r),this.completedCount=this.selectedBrands.length,this.showToast=!0,this.toastMessage="Combined PDF downloaded!",setTimeout(()=>this.showToast=!1,4e3)}catch(a){console.error(a),this.showToast=!0,this.toastMessage="Failed to generate combined PDF",setTimeout(()=>this.showToast=!1,5e3)}finally{this.isGenerating=!1,this.isPdfGenerating=!1,this.currentBrand=""}}else{let a=0,e=0;for(const l of this.selectedBrands){this.currentBrand=`Generating ${l}...`;try{const r=await this.generatePdfBlob([l]),s=new Date().toISOString().split("T")[0],o=`${l.replace(/[^a-zA-Z0-9]/g,"_")}_${s}.pdf`,u=window.URL.createObjectURL(r),h=document.createElement("a");h.href=u,h.download=o,h.click(),window.URL.revokeObjectURL(u),a++}catch(r){console.error(`Failed ${l}`,r),e++}this.completedCount++,await new Promise(r=>setTimeout(r,500))}this.showToast=!0,this.toastMessage=`Done! ${a} Success, ${e} Failed`,setTimeout(()=>this.showToast=!1,4e3),this.isGenerating=!1,this.isPdfGenerating=!1,this.currentBrand=""}},async downloadAsImages(){if(!this.selectedBrands.length)return;this.isGenerating=!0,this.isPdfGenerating=!1,this.isZipGenerating=!1,this.completedCount=0;let a=0,e=0,l=0;const r=await L(()=>import("./pdf-D9U_qkVv.js"),[]);r.GlobalWorkerOptions.workerSrc=`https://unpkg.com/pdfjs-dist@${r.version}/build/pdf.worker.min.mjs`;for(const s of this.selectedBrands){this.currentBrand=`Processing: ${s}`;try{const n=await this.generatePdfBlob([s]),o=URL.createObjectURL(n),h=await r.getDocument(o).promise;for(let g=1;g<=h.numPages;g++){const f=await h.getPage(g),x=f.getViewport({scale:2.5}),m=document.createElement("canvas");m.width=x.width,m.height=x.height;const B=m.getContext("2d");await f.render({canvasContext:B,viewport:x}).promise;const w=await new Promise(S=>m.toBlob(S,"image/png",.95)),k=URL.createObjectURL(w),C=document.createElement("a");C.href=k,C.download=`${s.replace(/[^a-zA-Z0-9]/g,"_")}_Image_${String(g).padStart(3,"0")}.png`,C.click(),URL.revokeObjectURL(k),l++}URL.revokeObjectURL(o),a++}catch(n){console.error("Failed for brand:",s,n),e++}this.completedCount++}this.isGenerating=!1,this.currentBrand="",this.showToast=!0,this.toastMessage=`Downloaded ${l} images (${e} failed brands)`,setTimeout(()=>this.showToast=!1,4e3)},async downloadAsZip(){if(!this.selectedBrands.length)return;this.isGenerating=!0,this.isZipGenerating=!0,this.completedCount=0;const a=new Z,e=await L(()=>import("./pdf-D9U_qkVv.js"),[]);e.GlobalWorkerOptions.workerSrc=`https://unpkg.com/pdfjs-dist@${e.version}/build/pdf.worker.min.mjs`;let l=0;const r=this.zipMode==="combined";let s=0;for(const o of this.selectedBrands){this.currentBrand=`Zipping: ${o}`;try{const u=await this.generatePdfBlob([o]),h=URL.createObjectURL(u),f=await e.getDocument(h).promise,x=r?a:a.folder(o);for(let m=1;m<=f.numPages;m++){const B=await f.getPage(m),w=B.getViewport({scale:2}),k=document.createElement("canvas");k.width=w.width,k.height=w.height;const C=k.getContext("2d");await B.render({canvasContext:C,viewport:w}).promise;const S=await new Promise(P=>k.toBlob(P,"image/jpeg",.85));if(r)if(s++,this.zipBatchMode){const P=Math.ceil(s/99);a.folder(`Batch ${P}`).file(`${o}_${String(s).padStart(4,"0")}.jpg`,S)}else x.file(`${o}_${String(s).padStart(4,"0")}.jpg`,S);else x.file(`${o}_Page_${m}.jpg`,S);l++}URL.revokeObjectURL(h)}catch(u){console.error(`Failed to zip ${o}`,u),this.showToast=!0,this.toastMessage=`Failed to process ${o}`,setTimeout(()=>this.showToast=!1,2e3)}this.completedCount++}this.currentBrand="Finalizing ZIP file...";const n=await a.generateAsync({type:"blob"});K.saveAs(n,`Catalog_Images_${new Date().toISOString().split("T")[0]}.zip`),this.isGenerating=!1,this.isZipGenerating=!1,this.currentBrand="",this.showToast=!0,this.toastMessage=`ZIP Ready! ${l} images included.`,setTimeout(()=>this.showToast=!1,4e3)},async shareViaNativeApp(){if(this.selectedBrands.length){this.isGenerating=!0,this.isSharing=!0,this.completedCount=0;try{const a=await L(()=>import("./pdf-D9U_qkVv.js"),[]);a.GlobalWorkerOptions.workerSrc=`https://unpkg.com/pdfjs-dist@${a.version}/build/pdf.worker.min.mjs`;const e=[];for(const s of this.selectedBrands){this.currentBrand=`Preparing: ${s}`;try{const n=await this.generatePdfBlob([s]),o=URL.createObjectURL(n),h=await a.getDocument(o).promise;for(let g=1;g<=h.numPages;g++){const f=await h.getPage(g),x=f.getViewport({scale:1.5}),m=document.createElement("canvas");m.width=x.width,m.height=x.height;const B=m.getContext("2d");await f.render({canvasContext:B,viewport:x}).promise;const w=m.toDataURL("image/jpeg",.8).split(",")[1],k=`${s.replace(/[^a-zA-Z0-9]/g,"")}_${g}.jpg`,C=await I.writeFile({path:k,data:w,directory:O.Cache});e.push(C.uri)}URL.revokeObjectURL(o)}catch(n){console.error("Native Gen Error",n)}this.completedCount++}const l=99,r=[];for(let s=0;s<e.length;s+=l)r.push(e.slice(s,s+l));if(r.length===0){this.showToast=!0,this.toastMessage="No images generated",setTimeout(()=>this.showToast=!1,3e3),this.isSharing=!1,this.isGenerating=!1;return}r.length===1?(await j.share({files:r[0]}),this.isSharing=!1,this.isGenerating=!1):(this.batchList=r,this.currentBatchIndex=0,this.showBatchModal=!0)}catch(a){console.error("Native Share Failed",a),this.showToast=!0,this.toastMessage="Sharing cancelled or failed.",setTimeout(()=>this.showToast=!1,3e3),this.isGenerating=!1,this.isSharing=!1}finally{this.currentBrand=""}}},async executeBatchShare(){try{const a=this.batchList[this.currentBatchIndex];await j.share({files:a}),this.currentBatchIndex++,this.currentBatchIndex>=this.batchList.length&&(this.showBatchModal=!1,this.isGenerating=!1,this.isSharing=!1,this.showToast=!0,this.toastMessage="All batches shared successfully!",setTimeout(()=>this.showToast=!1,4e3))}catch(a){console.error(a)}}}},oe={class:"flex flex-col lg:flex-row h-screen w-full bg-slate-50 font-sans text-slate-800 overflow-hidden"},re={class:"px-5 py-4 border-b border-slate-100 flex items-center justify-between bg-white/50 backdrop-blur-sm sticky top-0 z-10",style:{"padding-top":"max(env(safe-area-inset-top, 20px), 16px)"}},ne={class:"flex items-center gap-2"},ae={class:"px-2 py-0.5 rounded-full bg-blue-50 text-blue-600 text-[10px] font-bold uppercase tracking-wider"},le={class:"flex-1 overflow-y-auto p-4 space-y-5 custom-scrollbar pb-[calc(100px+env(safe-area-inset-bottom))] lg:pb-4 pt-[max(env(safe-area-inset-top),20px)]"},ie={key:0,class:"p-2 transition-all rounded-2xl bg-red-50/30 hover:bg-red-50/60 border border-transparent hover:border-red-100"},de={class:"flex items-center justify-between px-2 mb-3"},ce=["checked"],ue={class:"grid grid-cols-2 gap-2"},ge=["onClick"],he=["checked"],pe={key:1,class:"p-2 transition-all rounded-2xl bg-amber-50/30 hover:bg-amber-50/60 border border-transparent hover:border-amber-100"},be={class:"flex items-center justify-between px-2 mb-3"},fe=["checked"],me={class:"grid grid-cols-2 gap-2"},xe=["onClick"],we=["checked"],ye={class:"flex items-center gap-2 overflow-hidden"},ve={class:"w-6 h-6 rounded-full bg-white border border-amber-100 p-0.5 shrink-0 overflow-hidden shadow-sm flex items-center justify-center"},ke=["src"],_e={key:1,class:"text-[8px] font-bold text-amber-600"},Be={key:2,class:"p-2 transition-all rounded-2xl bg-teal-50/30 hover:bg-teal-50/60 border border-transparent hover:border-teal-100"},Ce={class:"flex items-center justify-between px-2 mb-3"},Se=["checked"],Ne={class:"grid grid-cols-2 gap-2"},Pe=["onClick"],Ge=["checked"],Te={key:3,class:"p-2 transition-all rounded-2xl bg-indigo-50/30 hover:bg-indigo-50/60 border border-transparent hover:border-indigo-100"},De={class:"flex items-center justify-between px-2 mb-3"},Ae=["checked"],Le={class:"grid grid-cols-2 gap-2"},Ie=["onClick"],je=["checked"],Re={key:4,class:"p-2 transition-all rounded-2xl bg-purple-50/30 hover:bg-purple-50/60 border border-transparent hover:border-purple-100"},Ue={class:"flex items-center justify-between px-2 mb-3"},Fe=["checked"],Oe={class:"grid grid-cols-2 gap-2"},Ee=["onClick"],Me=["checked"],ze={key:5,class:"p-2 transition-all rounded-2xl bg-cyan-50/30 hover:bg-cyan-50/60 border border-transparent hover:border-cyan-100"},We={class:"flex items-center justify-between px-2 mb-3"},Ve=["checked"],Qe={class:"grid grid-cols-2 gap-2"},He=["onClick"],Ze=["checked"],Ke={class:"p-4 bg-emerald-50/40 border border-emerald-100 rounded-2xl space-y-6"},Je={key:0},Ye={class:"flex items-center justify-between px-2 mb-3"},qe=["checked"],Xe={class:"grid grid-cols-2 gap-2"},$e=["onClick"],et=["checked"],tt={key:1},st={class:"flex items-center justify-between px-2 mb-3"},ot=["checked"],rt={class:"grid grid-cols-2 gap-2"},nt=["onClick"],at=["checked"],lt={key:2},it={class:"flex items-center justify-between px-2 mb-3"},dt=["checked"],ct={class:"grid grid-cols-2 gap-2"},ut=["onClick"],gt=["checked"],ht={key:3},pt={class:"flex items-center justify-between px-2 mb-3"},bt=["checked"],ft={class:"grid grid-cols-2 gap-2"},mt=["onClick"],xt=["checked"],wt={key:4},yt={class:"flex items-center justify-between px-2 mb-3"},vt=["checked"],kt={class:"grid grid-cols-2 gap-2"},_t=["onClick"],Bt=["checked"],Ct={key:6,class:"p-2 transition-all rounded-2xl bg-slate-50 border border-transparent hover:border-slate-200"},St={class:"flex items-center justify-between px-2 mb-3"},Nt=["checked"],Pt={class:"grid grid-cols-2 gap-2"},Gt=["onClick"],Tt=["checked"],Dt={class:"flex h-full flex-col lg:flex-row w-full"},At={class:"flex-1 overflow-y-auto p-4 lg:p-10 pb-24 lg:pb-10 w-full",style:{"padding-top":"max(env(safe-area-inset-top, 20px), 16px)"}},Lt={class:"mb-8 flex items-center gap-4"},It={class:"space-y-6 max-w-2xl"},jt={class:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100"},Rt={class:"space-y-4"},Ut={class:"flex items-center gap-3 cursor-pointer p-3 rounded-xl hover:bg-slate-50 border border-transparent hover:border-slate-200 transition-all"},Ft={class:"p-3 rounded-xl bg-slate-50 border border-slate-200"},Ot={class:"flex items-center justify-between mb-2"},Et={class:"flex items-center gap-2 cursor-pointer"},Mt={class:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100"},zt={class:"grid grid-cols-2 gap-4"},Wt={class:"cursor-pointer relative"},Vt={class:"cursor-pointer relative"},Qt={class:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100"},Ht={class:"grid grid-cols-2 gap-4"},Zt={class:"cursor-pointer relative"},Kt={class:"cursor-pointer relative"},Jt={key:0,class:"mt-3 px-1"},Yt={class:"flex items-center gap-2 cursor-pointer"},qt={class:"grid grid-cols-1 gap-3 pt-4"},Xt=["disabled"],$t={key:0,class:"flex items-center gap-2"},es={key:1},ts={class:"grid grid-cols-2 gap-3"},ss=["disabled"],os={key:0,class:"flex items-center gap-2"},rs={key:1},ns=["disabled"],as={key:0,class:"flex items-center gap-2"},ls={key:1},is=["disabled"],ds={key:0,class:"flex items-center gap-2"},cs={key:1,class:"flex items-center gap-2"},us=["disabled"],gs={key:2,class:"mt-4 p-4 bg-blue-50/50 border border-blue-100 rounded-xl space-y-2"},hs={class:"flex justify-between text-xs font-bold text-blue-800 uppercase tracking-widest"},ps={class:"h-2 w-full bg-blue-100 rounded-full overflow-hidden"},bs={class:"w-80 border-l border-slate-200 bg-white p-6 overflow-y-auto hidden xl:block"},fs={class:"mb-6"},ms={class:"text-sm text-slate-500 font-medium"},xs={key:0,class:"text-center py-10 opacity-50"},ws={key:1,class:"space-y-2"},ys={class:"text-xs font-bold text-slate-700 truncate pr-2"},vs=["onClick"],ks={class:"lg:hidden fixed bottom-0 mb-safe left-0 w-full bg-white border-t border-slate-200 flex justify-around items-center h-16 z-[60] shadow-[0_-4px_20px_rgba(0,0,0,0.05)]"},_s={class:"relative"},Bs={key:0,class:"absolute -top-1.5 -right-2.5 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[9px] font-bold text-white shadow-sm ring-2 ring-white"},Cs={key:0,class:"fixed bottom-6 right-6 z-[60] animate-bounce-in"},Ss={class:"bg-slate-800 text-white px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3"},Ns={class:"font-medium"},Ps={key:1,class:"fixed inset-0 z-[70] bg-black/80 flex items-center justify-center p-4 backdrop-blur-sm"},Gs={class:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl space-y-6"},Ts={class:"text-center space-y-2"},Ds={class:"text-xl font-black text-slate-800"},As={class:"text-slate-500 font-medium"},Ls={class:"h-2 w-full bg-slate-100 rounded-full overflow-hidden"};function Is(a,e,l,r,s,n){return d(),i("div",oe,[t("aside",{class:p(["border-r border-slate-200 bg-white flex-shrink-0 flex-col h-full z-20 shadow-[4px_0_24px_rgba(0,0,0,0.02)] transition-all duration-300 w-full lg:w-[480px]",[s.mobileTab==="brands"?"flex":"hidden lg:flex"]])},[t("div",re,[t("div",ne,[t("button",{onClick:e[0]||(e[0]=o=>a.$router.back()),class:"w-8 h-8 flex lg:hidden items-center justify-center rounded-full bg-slate-100 text-slate-600 hover:bg-slate-200 transition-colors shadow-sm active:scale-95 border border-slate-200 mr-1",title:"Back"},e[32]||(e[32]=[t("i",{class:"fa-solid fa-arrow-left text-xs"},null,-1)])),e[33]||(e[33]=t("h2",{class:"text-xl font-black text-slate-800 tracking-tight"},"Brands",-1)),t("span",ae,c(r.brands.length),1)]),s.selectedBrands.length>0?(d(),i("button",{key:0,onClick:e[1]||(e[1]=o=>s.selectedBrands=[]),class:"text-xs font-semibold text-slate-400 hover:text-red-500 transition-colors"},"Clear")):b("",!0)]),t("div",le,[r.groupedSidebar.paragon.length>0?(d(),i("div",ie,[t("div",de,[e[34]||(e[34]=t("div",{class:"flex items-center gap-2"},[t("img",{src:"https://res.cloudinary.com/dg365ewal/image/upload/v1749667072/paragonLogo_rqk3hu.webp",alt:"Paragon",class:"h-6 object-contain"})],-1)),t("input",{type:"checkbox",checked:n.isCategorySelected("paragon"),onChange:e[2]||(e[2]=o=>n.toggleCategory("paragon",o)),class:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"},null,40,ce)]),t("div",ue,[(d(!0),i(y,null,v(r.groupedSidebar.paragon,o=>(d(),i("div",{key:o.groupName,class:p(["flex items-center gap-3 px-3 py-2 rounded-xl transition-all cursor-pointer bg-white border border-transparent hover:border-red-200 shadow-sm hover:shadow-md select-none",{"!bg-red-50 !border-red-200 ring-1 ring-red-200":s.selectedBrands.includes(o.groupName)}]),onClick:u=>n.toggleBrand(o.groupName)},[t("input",{type:"checkbox",checked:s.selectedBrands.includes(o.groupName),class:"w-4 h-4 rounded text-red-600 focus:ring-red-500 border-gray-300 pointer-events-none"},null,8,he),t("span",{class:p(["text-sm font-semibold text-slate-700 leading-tight",{"text-red-800":s.selectedBrands.includes(o.groupName)}])},c(n.formatProductName(o.groupName)),3)],10,ge))),128))])])):b("",!0),r.groupedSidebar.topBrands.length>0?(d(),i("div",pe,[t("div",be,[e[35]||(e[35]=t("span",{class:"text-xs font-black text-amber-600 uppercase tracking-widest pl-1"},"Top Brands",-1)),t("input",{type:"checkbox",checked:n.isCategorySelected("topBrands"),onChange:e[3]||(e[3]=o=>n.toggleCategory("topBrands",o)),class:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"},null,40,fe)]),t("div",me,[(d(!0),i(y,null,v(r.groupedSidebar.topBrands,o=>(d(),i("div",{key:o.group.groupName,class:p(["flex items-center gap-3 px-3 py-2 rounded-xl transition-all cursor-pointer bg-white border border-transparent hover:border-amber-200 shadow-sm hover:shadow-md select-none",{"!bg-amber-50 !border-amber-200 ring-1 ring-amber-200":s.selectedBrands.includes(o.group.groupName)}]),onClick:u=>n.toggleBrand(o.group.groupName)},[t("input",{type:"checkbox",checked:s.selectedBrands.includes(o.group.groupName),class:"w-4 h-4 rounded text-amber-600 focus:ring-amber-500 border-gray-300 pointer-events-none"},null,8,we),t("div",ye,[t("div",ve,[o.logo?(d(),i("img",{key:0,src:o.logo,class:"w-full h-full object-contain"},null,8,ke)):(d(),i("span",_e,c(o.group.groupName[0]),1))]),t("span",{class:p(["text-sm font-semibold text-slate-700 leading-tight truncate",{"text-amber-800":s.selectedBrands.includes(o.group.groupName)}])},c(n.formatProductName(o.group.groupName)),3)])],10,xe))),128))])])):b("",!0),r.groupedSidebar.generalLoosePackingGroups.length>0?(d(),i("div",Be,[t("div",Ce,[e[36]||(e[36]=t("span",{class:"text-xs font-black text-teal-600 uppercase tracking-widest pl-1"},"General Loose Packing",-1)),t("input",{type:"checkbox",checked:n.isCategorySelected("generalLoosePackingGroups"),onChange:e[4]||(e[4]=o=>n.toggleCategory("generalLoosePackingGroups",o)),class:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"},null,40,Se)]),t("div",Ne,[(d(!0),i(y,null,v(r.groupedSidebar.generalLoosePackingGroups,o=>(d(),i("div",{key:o.groupName,class:p(["flex items-center gap-3 px-3 py-2 rounded-xl transition-all cursor-pointer bg-white border border-transparent hover:border-teal-200 shadow-sm hover:shadow-md select-none",{"!bg-teal-50 !border-teal-200 ring-1 ring-teal-200":s.selectedBrands.includes(o.groupName)}]),onClick:u=>n.toggleBrand(o.groupName)},[t("input",{type:"checkbox",checked:s.selectedBrands.includes(o.groupName),class:"w-4 h-4 rounded text-teal-600 focus:ring-teal-500 border-gray-300 pointer-events-none"},null,8,Ge),t("span",{class:p(["text-sm font-semibold text-slate-700 leading-tight",{"text-teal-800":s.selectedBrands.includes(o.groupName)}])},c(n.formatProductName(o.groupName)),3)],10,Pe))),128))])])):b("",!0),r.groupedSidebar.generalBoxPackingGroups.length>0?(d(),i("div",Te,[t("div",De,[e[37]||(e[37]=t("span",{class:"text-xs font-black text-indigo-600 uppercase tracking-widest pl-1"},"General Box Packing",-1)),t("input",{type:"checkbox",checked:n.isCategorySelected("generalBoxPackingGroups"),onChange:e[5]||(e[5]=o=>n.toggleCategory("generalBoxPackingGroups",o)),class:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"},null,40,Ae)]),t("div",Le,[(d(!0),i(y,null,v(r.groupedSidebar.generalBoxPackingGroups,o=>(d(),i("div",{key:o.groupName,class:p(["flex items-center gap-3 px-3 py-2 rounded-xl transition-all cursor-pointer bg-white border border-transparent hover:border-indigo-200 shadow-sm hover:shadow-md select-none",{"!bg-indigo-50 !border-indigo-200 ring-1 ring-indigo-200":s.selectedBrands.includes(o.groupName)}]),onClick:u=>n.toggleBrand(o.groupName)},[t("input",{type:"checkbox",checked:s.selectedBrands.includes(o.groupName),class:"w-4 h-4 rounded text-indigo-600 focus:ring-indigo-500 border-gray-300 pointer-events-none"},null,8,je),t("span",{class:p(["text-sm font-semibold text-slate-700 leading-tight",{"text-indigo-800":s.selectedBrands.includes(o.groupName)}])},c(n.formatProductName(o.groupName)),3)],10,Ie))),128))])])):b("",!0),r.groupedSidebar.midBrands.length>0?(d(),i("div",Re,[t("div",Ue,[e[38]||(e[38]=t("span",{class:"text-xs font-black text-purple-600 uppercase tracking-widest pl-1"},"Mid Brands",-1)),t("input",{type:"checkbox",checked:n.isCategorySelected("midBrands"),onChange:e[6]||(e[6]=o=>n.toggleCategory("midBrands",o)),class:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"},null,40,Fe)]),t("div",Oe,[(d(!0),i(y,null,v(r.groupedSidebar.midBrands,o=>(d(),i("div",{key:o.groupName,class:p(["flex items-center gap-3 px-3 py-2 rounded-xl transition-all cursor-pointer bg-white border border-transparent hover:border-purple-200 shadow-sm hover:shadow-md select-none",{"!bg-purple-50 !border-purple-200 ring-1 ring-purple-200":s.selectedBrands.includes(o.groupName)}]),onClick:u=>n.toggleBrand(o.groupName)},[t("input",{type:"checkbox",checked:s.selectedBrands.includes(o.groupName),class:"w-4 h-4 rounded text-purple-600 focus:ring-purple-500 border-gray-300 pointer-events-none"},null,8,Me),t("span",{class:p(["text-sm font-semibold text-slate-700 leading-tight",{"text-purple-800":s.selectedBrands.includes(o.groupName)}])},c(n.formatProductName(o.groupName)),3)],10,Ee))),128))])])):b("",!0),r.groupedSidebar.socksGroups.length>0?(d(),i("div",ze,[t("div",We,[e[39]||(e[39]=t("span",{class:"text-xs font-black text-cyan-600 uppercase tracking-widest pl-1"},"Socks",-1)),t("input",{type:"checkbox",checked:n.isCategorySelected("socksGroups"),onChange:e[7]||(e[7]=o=>n.toggleCategory("socksGroups",o)),class:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"},null,40,Ve)]),t("div",Qe,[(d(!0),i(y,null,v(r.groupedSidebar.socksGroups,o=>(d(),i("div",{key:o.groupName,class:p(["flex items-center gap-3 px-3 py-2 rounded-xl transition-all cursor-pointer bg-white border border-transparent hover:border-cyan-200 shadow-sm hover:shadow-md select-none",{"!bg-cyan-50 !border-cyan-200 ring-1 ring-cyan-200":s.selectedBrands.includes(o.groupName)}]),onClick:u=>n.toggleBrand(o.groupName)},[t("input",{type:"checkbox",checked:s.selectedBrands.includes(o.groupName),class:"w-4 h-4 rounded text-cyan-600 focus:ring-cyan-500 border-gray-300 pointer-events-none"},null,8,Ze),t("span",{class:p(["text-sm font-semibold text-slate-700 leading-tight",{"text-cyan-800":s.selectedBrands.includes(o.groupName)}])},c(n.formatProductName(o.groupName)),3)],10,He))),128))])])):b("",!0),t("div",Ke,[r.groupedSidebar.general.length>0?(d(),i("div",Je,[t("div",Ye,[e[40]||(e[40]=t("span",{class:"text-xs font-black text-emerald-600 uppercase tracking-widest pl-1"},"General",-1)),t("input",{type:"checkbox",checked:n.isCategorySelected("general"),onChange:e[8]||(e[8]=o=>n.toggleCategory("general",o)),class:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"},null,40,qe)]),t("div",Xe,[(d(!0),i(y,null,v(r.groupedSidebar.general,o=>(d(),i("div",{key:o.groupName,class:p(["flex items-center gap-3 px-3 py-2 rounded-xl transition-all cursor-pointer bg-white border border-transparent hover:border-emerald-200 shadow-sm hover:shadow-md select-none",{"!bg-emerald-50 !border-emerald-200 ring-1 ring-emerald-200":s.selectedBrands.includes(o.groupName)}]),onClick:u=>n.toggleBrand(o.groupName)},[t("input",{type:"checkbox",checked:s.selectedBrands.includes(o.groupName),class:"w-4 h-4 rounded text-emerald-600 focus:ring-emerald-500 border-gray-300 pointer-events-none"},null,8,et),t("span",{class:p(["text-sm font-semibold text-slate-700 leading-tight",{"text-emerald-800":s.selectedBrands.includes(o.groupName)}])},c(n.formatProductName(o.groupName)),3)],10,$e))),128))])])):b("",!0),r.groupedSidebar.bansalGroups.length>0?(d(),i("div",tt,[t("div",st,[e[41]||(e[41]=t("span",{class:"text-xs font-black text-emerald-600 uppercase tracking-widest pl-1"},"BANSAL CLUB",-1)),t("input",{type:"checkbox",checked:n.isCategorySelected("bansalGroups"),onChange:e[9]||(e[9]=o=>n.toggleCategory("bansalGroups",o)),class:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"},null,40,ot)]),t("div",rt,[(d(!0),i(y,null,v(r.groupedSidebar.bansalGroups,o=>(d(),i("div",{key:o.groupName,class:p(["flex items-center gap-3 px-3 py-2 rounded-xl transition-all cursor-pointer bg-white border border-transparent hover:border-emerald-200 shadow-sm hover:shadow-md select-none",{"!bg-emerald-50 !border-emerald-200 ring-1 ring-emerald-200":s.selectedBrands.includes(o.groupName)}]),onClick:u=>n.toggleBrand(o.groupName)},[t("input",{type:"checkbox",checked:s.selectedBrands.includes(o.groupName),class:"w-4 h-4 rounded text-emerald-600 focus:ring-emerald-500 border-gray-300 pointer-events-none"},null,8,at),t("span",{class:p(["text-sm font-semibold text-slate-700 leading-tight",{"text-emerald-800":s.selectedBrands.includes(o.groupName)}])},c(n.formatProductName(o.groupName)),3)],10,nt))),128))])])):b("",!0),r.groupedSidebar.airsonGroups.length>0?(d(),i("div",lt,[t("div",it,[e[42]||(e[42]=t("span",{class:"text-xs font-black text-emerald-600 uppercase tracking-widest pl-1"},"AIRSON CLUB",-1)),t("input",{type:"checkbox",checked:n.isCategorySelected("airsonGroups"),onChange:e[10]||(e[10]=o=>n.toggleCategory("airsonGroups",o)),class:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"},null,40,dt)]),t("div",ct,[(d(!0),i(y,null,v(r.groupedSidebar.airsonGroups,o=>(d(),i("div",{key:o.groupName,class:p(["flex items-center gap-3 px-3 py-2 rounded-xl transition-all cursor-pointer bg-white border border-transparent hover:border-emerald-200 shadow-sm hover:shadow-md select-none",{"!bg-emerald-50 !border-emerald-200 ring-1 ring-emerald-200":s.selectedBrands.includes(o.groupName)}]),onClick:u=>n.toggleBrand(o.groupName)},[t("input",{type:"checkbox",checked:s.selectedBrands.includes(o.groupName),class:"w-4 h-4 rounded text-emerald-600 focus:ring-emerald-500 border-gray-300 pointer-events-none"},null,8,gt),t("span",{class:p(["text-sm font-semibold text-slate-700 leading-tight",{"text-emerald-800":s.selectedBrands.includes(o.groupName)}])},c(n.formatProductName(o.groupName)),3)],10,ut))),128))])])):b("",!0),r.groupedSidebar.kohinoorGroups.length>0?(d(),i("div",ht,[t("div",pt,[e[43]||(e[43]=t("span",{class:"text-xs font-black text-emerald-600 uppercase tracking-widest pl-1"},"KOHINOOR CLUB",-1)),t("input",{type:"checkbox",checked:n.isCategorySelected("kohinoorGroups"),onChange:e[11]||(e[11]=o=>n.toggleCategory("kohinoorGroups",o)),class:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"},null,40,bt)]),t("div",ft,[(d(!0),i(y,null,v(r.groupedSidebar.kohinoorGroups,o=>(d(),i("div",{key:o.groupName,class:p(["flex items-center gap-3 px-3 py-2 rounded-xl transition-all cursor-pointer bg-white border border-transparent hover:border-emerald-200 shadow-sm hover:shadow-md select-none",{"!bg-emerald-50 !border-emerald-200 ring-1 ring-emerald-200":s.selectedBrands.includes(o.groupName)}]),onClick:u=>n.toggleBrand(o.groupName)},[t("input",{type:"checkbox",checked:s.selectedBrands.includes(o.groupName),class:"w-4 h-4 rounded text-emerald-600 focus:ring-emerald-500 border-gray-300 pointer-events-none"},null,8,xt),t("span",{class:p(["text-sm font-semibold text-slate-700 leading-tight",{"text-emerald-800":s.selectedBrands.includes(o.groupName)}])},c(n.formatProductName(o.groupName)),3)],10,mt))),128))])])):b("",!0),r.groupedSidebar.nareshGroups.length>0?(d(),i("div",wt,[t("div",yt,[e[44]||(e[44]=t("span",{class:"text-xs font-black text-emerald-600 uppercase tracking-widest pl-1"},"NARESH CLUB",-1)),t("input",{type:"checkbox",checked:n.isCategorySelected("nareshGroups"),onChange:e[12]||(e[12]=o=>n.toggleCategory("nareshGroups",o)),class:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"},null,40,vt)]),t("div",kt,[(d(!0),i(y,null,v(r.groupedSidebar.nareshGroups,o=>(d(),i("div",{key:o.groupName,class:p(["flex items-center gap-3 px-3 py-2 rounded-xl transition-all cursor-pointer bg-white border border-transparent hover:border-emerald-200 shadow-sm hover:shadow-md select-none",{"!bg-emerald-50 !border-emerald-200 ring-1 ring-emerald-200":s.selectedBrands.includes(o.groupName)}]),onClick:u=>n.toggleBrand(o.groupName)},[t("input",{type:"checkbox",checked:s.selectedBrands.includes(o.groupName),class:"w-4 h-4 rounded text-emerald-600 focus:ring-emerald-500 border-gray-300 pointer-events-none"},null,8,Bt),t("span",{class:p(["text-sm font-semibold text-slate-700 leading-tight",{"text-emerald-800":s.selectedBrands.includes(o.groupName)}])},c(n.formatProductName(o.groupName)),3)],10,_t))),128))])])):b("",!0)]),r.groupedSidebar.others.length>0?(d(),i("div",Ct,[t("div",St,[e[45]||(e[45]=t("span",{class:"text-xs font-black text-slate-400 uppercase tracking-widest pl-1"},"Others",-1)),t("input",{type:"checkbox",checked:n.isCategorySelected("others"),onChange:e[13]||(e[13]=o=>n.toggleCategory("others",o)),class:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"},null,40,Nt)]),t("div",Pt,[(d(!0),i(y,null,v(r.groupedSidebar.others,o=>(d(),i("div",{key:o.groupName,class:p(["flex items-center gap-3 px-3 py-2 rounded-xl transition-all cursor-pointer bg-white border border-transparent hover:border-slate-300 shadow-sm hover:shadow-md select-none",{"!bg-slate-100 !border-slate-300 ring-1 ring-slate-300":s.selectedBrands.includes(o.groupName)}]),onClick:u=>n.toggleBrand(o.groupName)},[t("input",{type:"checkbox",checked:s.selectedBrands.includes(o.groupName),class:"w-4 h-4 rounded text-slate-600 focus:ring-slate-500 border-gray-300 pointer-events-none"},null,8,Tt),t("span",{class:p(["text-sm font-semibold text-slate-700 leading-tight",{"text-slate-900":s.selectedBrands.includes(o.groupName)}])},c(n.formatProductName(o.groupName)),3)],10,Gt))),128))])])):b("",!0)])],2),t("main",{class:p(["flex-1 flex-col h-full relative overflow-hidden bg-slate-50/50",[s.mobileTab==="export"?"flex":"hidden lg:flex"]])},[t("div",Dt,[t("div",At,[t("header",Lt,[t("button",{onClick:e[14]||(e[14]=o=>a.$router.push("/")),class:"w-10 h-10 flex items-center justify-center rounded-full bg-blue-600 text-white hover:bg-blue-700 transition-colors shadow-md active:scale-95 border border-white/20",title:"Home"},e[46]||(e[46]=[t("i",{class:"fa-solid fa-house"},null,-1)])),e[47]||(e[47]=t("div",null,[t("h1",{class:"text-3xl font-black text-slate-800 tracking-tight"},"Generate Catalog"),t("p",{class:"text-slate-500 font-medium"},"Configure your export settings")],-1))]),t("div",It,[t("div",jt,[e[51]||(e[51]=t("h3",{class:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2"},[t("i",{class:"fa-solid fa-filter text-blue-500"}),_(" Filters ")],-1)),t("div",Rt,[t("label",Ut,[N(t("input",{type:"checkbox","onUpdate:modelValue":e[15]||(e[15]=o=>s.onlyWithPhotos=o),class:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[U,s.onlyWithPhotos]]),e[48]||(e[48]=t("span",{class:"font-medium text-slate-700"},"Only include products with photos",-1))]),t("div",Ft,[t("div",Ot,[t("label",Et,[N(t("input",{type:"checkbox","onUpdate:modelValue":e[16]||(e[16]=o=>s.minQtyEnabled=o),class:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[U,s.minQtyEnabled]]),e[49]||(e[49]=t("span",{class:"font-medium text-slate-700"},"Minimum Quantity Filter",-1))]),t("div",{class:p(["flex items-center gap-2",{"opacity-50 pointer-events-none":!s.minQtyEnabled}])},[N(t("input",{type:"number","onUpdate:modelValue":e[17]||(e[17]=o=>s.minQty=o),class:"w-16 text-center font-bold bg-white border border-slate-300 rounded-lg py-1 focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[$,s.minQty,void 0,{number:!0}]]),e[50]||(e[50]=t("span",{class:"text-sm font-semibold text-slate-400"},"pairs",-1))],2)])])])]),t("div",Mt,[e[54]||(e[54]=t("h3",{class:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2"},[t("i",{class:"fa-solid fa-file-pdf text-red-500"}),_(" PDF Mode ")],-1)),t("div",zt,[t("label",Wt,[N(t("input",{type:"radio","onUpdate:modelValue":e[18]||(e[18]=o=>s.pdfMode=o),value:"separate",class:"peer sr-only"},null,512),[[T,s.pdfMode]]),e[52]||(e[52]=t("div",{class:"p-4 rounded-xl border-2 border-slate-200 hover:border-blue-400 peer-checked:border-blue-600 peer-checked:bg-blue-50 transition-all text-center"},[t("span",{class:"block font-bold text-slate-700 peer-checked:text-blue-700 mb-1"},"Separate Files"),t("span",{class:"text-xs text-slate-500"},"One PDF per brand")],-1))]),t("label",Vt,[N(t("input",{type:"radio","onUpdate:modelValue":e[19]||(e[19]=o=>s.pdfMode=o),value:"combined",class:"peer sr-only"},null,512),[[T,s.pdfMode]]),e[53]||(e[53]=t("div",{class:"p-4 rounded-xl border-2 border-slate-200 hover:border-blue-400 peer-checked:border-blue-600 peer-checked:bg-blue-50 transition-all text-center"},[t("span",{class:"block font-bold text-slate-700 peer-checked:text-blue-700 mb-1"},"Combined Catalog"),t("span",{class:"text-xs text-slate-500"},"All brands in one PDF")],-1))])])]),t("div",Qt,[e[58]||(e[58]=t("h3",{class:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2"},[t("i",{class:"fa-solid fa-file-zipper text-yellow-500"}),_(" ZIP Mode ")],-1)),t("div",Ht,[t("label",Zt,[N(t("input",{type:"radio","onUpdate:modelValue":e[20]||(e[20]=o=>s.zipMode=o),value:"separate",class:"peer sr-only"},null,512),[[T,s.zipMode]]),e[55]||(e[55]=t("div",{class:"p-4 rounded-xl border-2 border-slate-200 hover:border-emerald-400 peer-checked:border-emerald-600 peer-checked:bg-emerald-50 transition-all text-center"},[t("span",{class:"block font-bold text-slate-700 peer-checked:text-emerald-700 mb-1"},"Separate Folders"),t("span",{class:"text-xs text-slate-500"},"One folder per brand")],-1))]),t("label",Kt,[N(t("input",{type:"radio","onUpdate:modelValue":e[21]||(e[21]=o=>s.zipMode=o),value:"combined",class:"peer sr-only"},null,512),[[T,s.zipMode]]),e[56]||(e[56]=t("div",{class:"p-4 rounded-xl border-2 border-slate-200 hover:border-emerald-400 peer-checked:border-emerald-600 peer-checked:bg-emerald-50 transition-all text-center"},[t("span",{class:"block font-bold text-slate-700 peer-checked:text-emerald-700 mb-1"},"Combined (Flat)"),t("span",{class:"text-xs text-slate-500"},"All images in root")],-1))])]),s.zipMode==="combined"?(d(),i("div",Jt,[t("label",Yt,[N(t("input",{type:"checkbox","onUpdate:modelValue":e[22]||(e[22]=o=>s.zipBatchMode=o),class:"w-5 h-5 rounded text-emerald-600 focus:ring-emerald-500 border-gray-300"},null,512),[[U,s.zipBatchMode]]),e[57]||(e[57]=t("span",{class:"text-sm font-medium text-slate-600"},"Split into batches of 99 images per subfolder",-1))])])):b("",!0)]),t("div",qt,[t("button",{onClick:e[23]||(e[23]=(...o)=>n.generatePdf&&n.generatePdf(...o)),disabled:s.selectedBrands.length===0||s.isGenerating,class:"w-full py-4 bg-slate-900 hover:bg-black disabled:bg-slate-300 disabled:cursor-not-allowed text-white font-bold rounded-xl shadow-xl active:scale-[0.98] transition-all flex items-center justify-center gap-3 text-lg"},[s.isGenerating&&s.isPdfGenerating?(d(),i("span",$t,[e[59]||(e[59]=t("svg",{class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),_(" "+c(s.pdfMode==="combined"?"Merging PDF...":`Generating PDF (${s.completedCount}/${s.selectedBrands.length})`),1)])):(d(),i("span",es,"Download PDF Catalog"))],8,Xt),t("div",ts,[t("button",{onClick:e[24]||(e[24]=(...o)=>n.downloadAsImages&&n.downloadAsImages(...o)),disabled:s.selectedBrands.length===0||s.isGenerating,class:"py-3 bg-white border-2 border-slate-200 hover:border-slate-300 hover:bg-slate-50 text-slate-700 font-bold rounded-xl transition-all flex items-center justify-center gap-2"},[s.isGenerating&&!s.isPdfGenerating&&!s.isZipGenerating?(d(),i("span",os,[e[60]||(e[60]=t("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),_(" Creating Images ("+c(s.completedCount)+"/"+c(s.selectedBrands.length)+") ",1)])):(d(),i("span",rs,"Download Images"))],8,ss),t("button",{onClick:e[25]||(e[25]=(...o)=>n.downloadAsZip&&n.downloadAsZip(...o)),disabled:s.selectedBrands.length===0||s.isGenerating,class:"py-3 bg-white border-2 border-slate-200 hover:border-slate-300 hover:bg-slate-50 text-slate-700 font-bold rounded-xl transition-all flex items-center justify-center gap-2"},[s.isGenerating&&s.isZipGenerating?(d(),i("span",as,[e[61]||(e[61]=t("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),_(" Zipping ("+c(s.completedCount)+"/"+c(s.selectedBrands.length)+") ",1)])):(d(),i("span",ls,"Download Images (ZIP)"))],8,ns)]),n.isNativeApp?(d(),i("button",{key:0,onClick:e[26]||(e[26]=(...o)=>n.shareViaNativeApp&&n.shareViaNativeApp(...o)),disabled:s.selectedBrands.length===0||s.isGenerating,class:"w-full mt-3 py-4 bg-[#25D366] hover:bg-[#128C7E] disabled:bg-slate-300 disabled:cursor-not-allowed text-white font-bold rounded-xl shadow-xl active:scale-[0.98] transition-all flex items-center justify-center gap-3 text-lg"},[s.isGenerating&&s.isSharing?(d(),i("span",ds,[e[62]||(e[62]=t("svg",{class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),_(" Preparing Share ("+c(s.completedCount)+"/"+c(s.selectedBrands.length)+") ",1)])):(d(),i("span",cs,e[63]||(e[63]=[t("i",{class:"fa-brands fa-whatsapp text-2xl"},null,-1),_(" Share on WhatsApp ")])))],8,is)):b("",!0),n.isNativeApp?(d(),i("button",{key:1,onClick:e[27]||(e[27]=o=>a.$router.push("/latest-stock")),disabled:s.isGenerating,class:"w-full mt-3 py-4 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 disabled:from-slate-300 disabled:to-slate-300 disabled:cursor-not-allowed text-white font-bold rounded-xl shadow-xl active:scale-[0.98] transition-all flex items-center justify-center gap-3 text-lg"},e[64]||(e[64]=[t("i",{class:"fa-solid fa-bolt"},null,-1),_(" Latest Stock ")]),8,us)):b("",!0),s.isGenerating?(d(),i("div",gs,[t("div",hs,[t("span",null,"Processing: "+c(s.currentBrand),1),t("span",null,c(Math.round(s.completedCount/s.selectedBrands.length*100))+"%",1)]),t("div",ps,[t("div",{class:"h-full bg-blue-500 rounded-full transition-all duration-300",style:G({width:`${s.completedCount/s.selectedBrands.length*100}%`})},null,4)]),e[65]||(e[65]=t("div",{class:"text-[10px] text-blue-600/70 text-center font-medium"},"Please wait, larger brands may take a minute...",-1))])):b("",!0)])])]),t("div",bs,[t("div",fs,[e[66]||(e[66]=t("h2",{class:"text-lg font-black text-slate-800 uppercase tracking-widest mb-1"},"Summary",-1)),t("p",ms,c(s.selectedBrands.length)+" brands selected",1)]),s.selectedBrands.length===0?(d(),i("div",xs,e[67]||(e[67]=[t("div",{class:"text-4xl mb-2"},"üìã",-1),t("p",{class:"text-sm font-medium"},"No brands selected",-1)]))):(d(),i("div",ws,[(d(!0),i(y,null,v(s.selectedBrands,o=>(d(),i("div",{key:o,class:"flex items-center justify-between p-2 rounded-lg bg-slate-50 border border-slate-100 group"},[t("span",ys,c(n.formatProductName(o)),1),t("button",{onClick:u=>n.toggleBrand(o),class:"text-slate-400 hover:text-red-500 transition-colors"},e[68]||(e[68]=[t("i",{class:"fa-solid fa-xmark"},null,-1)]),8,vs)]))),128))]))])])],2),t("div",ks,[t("button",{onClick:e[28]||(e[28]=o=>s.mobileTab="brands"),class:p(["flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors outline-none bg-transparent rounded-none hover:bg-transparent shadow-none",s.mobileTab==="brands"?"text-blue-600":"text-slate-400"])},e[69]||(e[69]=[t("span",{class:"text-[10px] font-bold uppercase tracking-wide"},"Brands",-1)]),2),e[71]||(e[71]=t("div",{class:"h-8 w-[1px] bg-slate-100"},null,-1)),t("button",{onClick:e[29]||(e[29]=o=>s.mobileTab="export"),class:p(["flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors outline-none bg-transparent rounded-none hover:bg-transparent shadow-none",s.mobileTab==="export"?"text-blue-600":"text-slate-400"])},[t("div",_s,[s.selectedBrands.length>0?(d(),i("span",Bs,c(s.selectedBrands.length),1)):b("",!0)]),e[70]||(e[70]=t("span",{class:"text-[10px] font-bold uppercase tracking-wide"},"Export",-1))],2)]),s.showToast?(d(),i("div",Cs,[t("div",Ss,[e[72]||(e[72]=t("i",{class:"fa-solid fa-circle-check text-green-400"},null,-1)),t("span",Ns,c(s.toastMessage),1)])])):b("",!0),s.showBatchModal?(d(),i("div",Ps,[t("div",Gs,[t("div",Ts,[e[73]||(e[73]=t("div",{class:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"},[t("i",{class:"fa-brands fa-whatsapp text-3xl text-green-600"})],-1)),t("h3",Ds,"Share Batch "+c(s.currentBatchIndex+1)+" / "+c(s.batchList.length),1),t("p",As,"Sending "+c(s.batchList[s.currentBatchIndex].length)+" images in this batch.",1)]),t("div",Ls,[t("div",{class:"h-full bg-green-500 rounded-full transition-all duration-300",style:G({width:`${s.currentBatchIndex/s.batchList.length*100}%`})},null,4)]),t("button",{onClick:e[30]||(e[30]=(...o)=>n.executeBatchShare&&n.executeBatchShare(...o)),class:"w-full py-4 bg-[#25D366] hover:bg-[#128C7E] text-white font-bold rounded-xl shadow-xl active:scale-[0.95] transition-all flex items-center justify-center gap-3 text-lg"},[t("span",null,"Share Batch "+c(s.currentBatchIndex+1),1),e[74]||(e[74]=t("i",{class:"fa-solid fa-arrow-right"},null,-1))]),t("button",{onClick:e[31]||(e[31]=o=>{s.showBatchModal=!1,s.isSharing=!1}),class:"w-full py-3 text-slate-400 font-bold hover:text-slate-600"}," Cancel ")])])):b("",!0)])}const js=W(se,[["render",Is],["__scopeId","data-v-86246e8c"]]),A="sbe_latest_stock",z=[{folder:"Cubix",brands:["CUBIX","CUBIX 2"],onlyWithPhotos:!0,minQty:6,icon:"üëü"},{folder:"Florex",brands:["Florex (Swastik)"],onlyWithPhotos:!0,minQty:6,icon:"üå∏"},{folder:"Action",brands:["ACTION"],onlyWithPhotos:!0,minQty:6,icon:"‚ö°"},{folder:"Paragon Gents",brands:["PARAGON GENTS"],onlyWithPhotos:!0,minQty:8,icon:"üëû"},{folder:"Eeken",brands:["EEKEN"],onlyWithPhotos:!0,minQty:4,icon:"üèÉ"},{folder:"Meriva and Paragon Ladies",brands:["Meriva","PARAGON LADIES"],onlyWithPhotos:!0,minQty:4,icon:"üë†"},{folder:"Loose General Packing",brands:["ASHU","PANKAJ PLASTIC","TARA","J.K Plastic","Magnet","Maruti Plastics","AAGAM POLYMER","A G ENTERPRISES","NAV DURGA ENTERPRISES","NEXUS","R K TRADERS","SRG Enterprises","Vardhman Plastics","YASH FOOTWEAR","KRishna Agency","SHYAM","AVTAR V V POLYMERS","ATHARV PLASTIC"],onlyWithPhotos:!0,minQty:4,icon:"üì¶"},{folder:"Box Packing",brands:["ADDA","ADDOXY","AIRFAX","Hitway","Paris","TEUZ","VAISHNO PLASTIC","AGRA","R R POLYPLAST","AIRSON","AMBIKA FOOTWEAR","GOKUL FOOTWEAR","NEXGEN FOOTWEAR","KOHINOOR","UAM FOOTWEAR"],onlyWithPhotos:!0,minQty:4,icon:"üì•"},{folder:"Solea Disc 40 Percent Offer",brands:["SOLEA DISC 40% OFFER"],onlyWithPhotos:!0,minQty:0,icon:"üè∑Ô∏è"},{folder:"Reliance Footwear",brands:["RELIANCE FOOTWEAR"],onlyWithPhotos:!0,minQty:4,icon:"üî∑"},{folder:"Paralite",brands:["PARALITE"],onlyWithPhotos:!0,minQty:8,icon:"üî∂"},{folder:"P-Toes Paralite",brands:["P-TOES PARALITE"],onlyWithPhotos:!0,minQty:8,icon:"üü†"},{folder:"Socks",brands:["BArun","PAreek Soucks","LEo"],onlyWithPhotos:!0,minQty:0,icon:"üß¶"},{folder:"School Shoe Durolite",brands:["SCHOOL SHOE DUROLITE"],onlyWithPhotos:!0,minQty:0,icon:"üéí"}],Rs={name:"LatestStock",data(){return{GROUPS:z,state:"landing",stockData:[],globalDone:0,globalTotal:0,currentGroupIcon:"",currentGroupName:"",currentGroupProgress:"",groupPct:0,completedGroups:[],downloadedGroups:[],lastDownloadDate:null,isSharing:!1,sharingGroupName:"",batchList:[],currentBatchIndex:0,showToast:!1,toastMessage:""}},computed:{totalBatches(){return this.batchList.length},currentBatchSize(){var a;return((a=this.batchList[this.currentBatchIndex])==null?void 0:a.length)||0},lastDownloadLabel(){if(!this.lastDownloadDate)return"";const a=new Date(this.lastDownloadDate),l=(new Date-a)/(1e3*60*60);if(l<1)return"Downloaded just now";if(l<24)return`Downloaded ${Math.floor(l)}h ago`;const r=Math.floor(l/24);return r===1?"Downloaded yesterday":`Downloaded ${r} days ago`}},async mounted(){try{const a=await fetch("./assets/stock-data.json");this.stockData=await a.json()}catch(a){console.error("Failed to load stock data",a)}await this.restoreFromCache(),(this.state==="landing"||this.isStale())&&this.startDownload()},methods:{isStale(){return this.lastDownloadDate?(Date.now()-new Date(this.lastDownloadDate).getTime())/(1e3*60*60)>=24:!0},async restoreFromCache(){var a,e;try{const l=localStorage.getItem(A);if(!l)return;const r=JSON.parse(l);if(this.lastDownloadDate=r.downloadedAt,!r.groups||r.groups.length===0)return;const s=(e=(a=r.groups[0])==null?void 0:a.fileUris)==null?void 0:e[0];if(s)try{await I.stat({path:s})}catch{localStorage.removeItem(A),this.lastDownloadDate=null;return}this.downloadedGroups=r.groups,this.state="folders"}catch(l){console.error("Restore failed",l)}},saveToCache(){const a={downloadedAt:new Date().toISOString(),groups:this.downloadedGroups.map(e=>({folder:e.folder,icon:e.icon,fileUris:e.fileUris}))};localStorage.setItem(A,JSON.stringify(a)),this.lastDownloadDate=a.downloadedAt},async clearOldFiles(){const a=localStorage.getItem(A);if(a)try{const e=JSON.parse(a);for(const l of e.groups||[])for(const r of l.fileUris||[])try{const s=r.split("/").pop();await I.deleteFile({path:s,directory:O.Data})}catch{}}catch{}},async fetchImageAsBase64(a){const e=await F.get(a,{responseType:"arraybuffer"}),l=btoa(new Uint8Array(e.data).reduce((r,s)=>r+String.fromCharCode(s),""));return`data:${e.headers["content-type"]};base64,${l}`},getImageDimensions(a){return new Promise(e=>{const l=new Image;l.onload=()=>e({width:l.width,height:l.height}),l.src=a})},async generatePdfBlob(a){const e=new V({orientation:"portrait",unit:"pt",format:"a4"}),l=e.internal.pageSize.getWidth(),r=e.internal.pageSize.getHeight();let s=!1;for(const n of a){let o=!0;for(const u of n.products)if(s&&e.addPage(),s=!0,e.setFillColor("#faf8f6"),e.rect(0,0,l,r,"F"),e.setDrawColor("#e0e0e0"),e.setLineWidth(3),e.path([{op:"m",c:[0,0]},{op:"l",c:[200,80]},{op:"c",c:[266,26,400,33,600,100]}]),e.stroke(),e.path([{op:"m",c:[0,r]},{op:"l",c:[250,r-100]},{op:"c",c:[316,r-33,433,r-16,600,r-50]}]),e.stroke(),o&&(e.setTextColor(200,200,200),e.setFont("helvetica","bold"),e.setFontSize(28),e.text(n.groupName,l/2,35,{align:"center"}),o=!1),u.imageUrl)try{const h=await this.fetchImageAsBase64(u.imageUrl),g=await this.getImageDimensions(h),f=l-40,x=r-150,m=Math.min(f/g.width,x/g.height,1),B=g.width*m,w=g.height*m,k=(l-B)/2,C=60;e.addImage(h,"JPEG",k,C,B,w);const S=C+w+25;e.setTextColor(0,0,0),e.setFont("helvetica","bold"),e.setFontSize(16),e.text(u.productName,l/2,S,{align:"center"}),e.setTextColor(212,0,0),e.setFontSize(18),e.text(`Qty: ${u.quantity}`,l/2,S+30,{align:"center"})}catch{e.setTextColor(0),e.setFontSize(16),e.text("Image Load Failed",l/2,r/2,{align:"center"})}else e.setTextColor(0),e.setFontSize(20),e.text(u.productName,l/2,r/2-20,{align:"center"}),e.text(`Qty: ${u.quantity}`,l/2,r/2+20,{align:"center"})}return e.output("blob")},async renderPdfToImages(a,e,l){const r=await L(()=>import("./pdf-D9U_qkVv.js"),[]);r.GlobalWorkerOptions.workerSrc=`https://unpkg.com/pdfjs-dist@${r.version}/build/pdf.worker.min.mjs`;const s=URL.createObjectURL(a),n=await r.getDocument(s).promise,o=[];for(let u=1;u<=n.numPages;u++){const h=await n.getPage(u),g=h.getViewport({scale:1.5}),f=document.createElement("canvas");f.width=g.width,f.height=g.height;const x=f.getContext("2d");await h.render({canvasContext:x,viewport:g}).promise;const m=f.toDataURL("image/jpeg",.85).split(",")[1],B=`ls_${e}_page${u}.jpg`,w=await I.writeFile({path:B,data:m,directory:O.Data});o.push(w.uri),l&&l(u,n.numPages)}return URL.revokeObjectURL(s),o},async startDownload(){await this.clearOldFiles(),this.state="downloading",this.globalDone=0,this.completedGroups=[],this.downloadedGroups=[];const a=s=>s?s.toLowerCase().trim():"",e=new Map;for(const s of this.stockData)s.groupName!=="_META_DATA_"&&e.set(a(s.groupName),s);const l=[];let r=0;for(const s of z){const n=[];for(const o of s.brands){const u=e.get(a(o));if(!u)continue;const h=u.products.filter(g=>!(s.onlyWithPhotos&&!g.imageUrl||s.minQty>0&&g.quantity<s.minQty));h.length>0&&(n.push({groupName:u.groupName,products:h}),r+=h.length)}l.push({config:s,matchedGroups:n})}this.globalTotal=r;for(const{config:s,matchedGroups:n}of l){if(n.length===0){this.completedGroups.push({icon:s.icon,name:s.folder,count:0});continue}this.currentGroupIcon=s.icon,this.currentGroupName=s.folder,this.currentGroupProgress="Generating PDF...",this.groupPct=0;try{const o=await this.generatePdfBlob(n);this.currentGroupProgress="Rendering pages...";const u=s.folder.replace(/[^a-zA-Z0-9]/g,"_"),h=await this.renderPdfToImages(o,u,(g,f)=>{this.currentGroupProgress=`${g} / ${f} pages`,this.groupPct=g/f*100,this.globalDone++});h.length>0&&this.downloadedGroups.push({folder:s.folder,icon:s.icon,fileUris:h}),this.completedGroups.push({icon:s.icon,name:s.folder,count:h.length})}catch(o){console.error(`Failed group ${s.folder}:`,o),this.completedGroups.push({icon:s.icon,name:s.folder,count:0})}}this.saveToCache(),this.state="folders",this.toast(`Generated ${this.globalDone} catalog pages across ${this.downloadedGroups.length} categories`)},async shareGroup(a){const l=[];for(let r=0;r<a.fileUris.length;r+=99)l.push(a.fileUris.slice(r,r+99));if(l.length===1)try{await j.share({files:l[0]}),this.toast(`Shared ${a.folder} (${l[0].length} pages)`)}catch(r){r.message!=="Share canceled"&&this.toast("Share cancelled or failed")}else this.sharingGroupName=a.folder,this.batchList=l,this.currentBatchIndex=0,this.isSharing=!0},async executeBatchShare(){try{await j.share({files:this.batchList[this.currentBatchIndex]}),this.currentBatchIndex++,this.currentBatchIndex>=this.batchList.length&&(this.isSharing=!1,this.toast(`All batches shared for ${this.sharingGroupName}`))}catch(a){console.error("Batch share failed",a),this.isSharing=!1,this.toast("Share cancelled")}},cancelShare(){this.isSharing=!1},toast(a){this.toastMessage=a,this.showToast=!0,setTimeout(()=>this.showToast=!1,4e3)}}},Us={class:"flex flex-col h-screen w-full bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 font-sans text-white overflow-hidden"},Fs={class:"px-5 py-4 flex items-center justify-between border-b border-white/10 bg-white/5 backdrop-blur-sm",style:{"padding-top":"max(env(safe-area-inset-top, 20px), 16px)"}},Os={class:"flex items-center gap-3"},Es={class:"flex flex-col items-end gap-1"},Ms={key:1,class:"text-[10px] text-slate-500"},zs={key:0,class:"flex-1 flex flex-col items-center justify-center px-8 space-y-8"},Ws={class:"text-[11px] text-slate-500"},Vs={key:1,class:"flex-1 flex flex-col px-6 py-8 overflow-hidden"},Qs={class:"mb-6 space-y-3"},Hs={class:"flex justify-between items-center"},Zs={class:"text-sm font-black text-amber-400"},Ks={class:"h-3 w-full bg-white/10 rounded-full overflow-hidden"},Js={class:"text-xs text-slate-400 text-center"},Ys={class:"bg-white/5 border border-white/10 rounded-2xl p-5 mb-4"},qs={class:"flex items-center gap-3 mb-3"},Xs={class:"text-2xl"},$s={class:"font-bold text-white"},eo={class:"text-[11px] text-slate-400"},to={class:"h-2 w-full bg-white/10 rounded-full overflow-hidden"},so={class:"flex-1 overflow-y-auto space-y-1 custom-scrollbar"},oo={class:"flex-1 text-sm font-medium text-slate-300 truncate"},ro={class:"text-xs font-bold text-emerald-400"},no={key:2,class:"flex-1 overflow-y-auto px-4 py-5 space-y-3 pb-8 custom-scrollbar"},ao=["onClick"],lo={class:"w-12 h-12 rounded-xl bg-gradient-to-br from-white/10 to-white/5 flex items-center justify-center text-2xl flex-shrink-0"},io={class:"flex-1 min-w-0"},co={class:"font-bold text-white truncate"},uo={class:"text-xs text-slate-400 mt-0.5"},go={key:0,class:"text-amber-400 ml-1"},ho={key:3,class:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-6 backdrop-blur-sm"},po={class:"bg-slate-800 rounded-2xl w-full max-w-sm p-6 shadow-2xl border border-white/10 space-y-6"},bo={class:"text-center space-y-2"},fo={class:"text-xl font-black text-white"},mo={class:"text-slate-400 text-sm"},xo={class:"text-xs"},wo={class:"h-2 w-full bg-white/10 rounded-full overflow-hidden"},yo={key:4,class:"fixed bottom-20 left-4 right-4 z-[60]"},vo={class:"bg-slate-700 text-white px-5 py-3 rounded-xl shadow-2xl flex items-center gap-3 border border-white/10"},ko={class:"font-medium text-sm"};function _o(a,e,l,r,s,n){return d(),i("div",Us,[t("div",Fs,[t("div",Os,[t("button",{onClick:e[0]||(e[0]=o=>a.$router.push("/pdf-gen")),class:"w-9 h-9 rounded-lg bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all"},e[5]||(e[5]=[t("i",{class:"fa-solid fa-arrow-left text-sm"},null,-1)])),e[6]||(e[6]=t("div",null,[t("h1",{class:"text-lg font-black tracking-tight"},"Latest Stock"),t("p",{class:"text-[10px] text-slate-400 uppercase tracking-widest font-bold"},"Sri Brundabana Enterprises")],-1))]),t("div",Es,[s.state==="folders"?(d(),i("button",{key:0,onClick:e[1]||(e[1]=(...o)=>n.startDownload&&n.startDownload(...o)),class:"text-xs font-bold text-amber-400 hover:text-amber-300 transition-colors"},e[7]||(e[7]=[t("i",{class:"fa-solid fa-arrows-rotate mr-1"},null,-1),_(" Re-download ")]))):b("",!0),s.lastDownloadDate?(d(),i("span",Ms,[e[8]||(e[8]=t("i",{class:"fa-solid fa-clock mr-1"},null,-1)),_(c(n.lastDownloadLabel),1)])):b("",!0)])]),s.state==="landing"?(d(),i("div",zs,[e[10]||(e[10]=te('<div class="w-28 h-28 rounded-3xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-2xl shadow-amber-500/30" data-v-de147867><i class="fa-solid fa-download text-4xl text-white" data-v-de147867></i></div><div class="text-center space-y-2" data-v-de147867><h2 class="text-2xl font-black" data-v-de147867>Download Latest Stock</h2><p class="text-slate-400 text-sm max-w-xs" data-v-de147867>Download formatted catalog images with product details, ready to share on WhatsApp</p></div>',2)),t("button",{onClick:e[2]||(e[2]=(...o)=>n.startDownload&&n.startDownload(...o)),class:"w-full max-w-xs py-4 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 text-white font-black text-lg rounded-2xl shadow-xl shadow-amber-500/25 active:scale-[0.97] transition-all flex items-center justify-center gap-3"},e[9]||(e[9]=[t("i",{class:"fa-solid fa-bolt"},null,-1),_(" Start Download ")])),t("p",Ws,c(s.GROUPS.length)+" categories ‚Ä¢ Formatted catalog pages",1)])):s.state==="downloading"?(d(),i("div",Vs,[t("div",Qs,[t("div",Hs,[e[11]||(e[11]=t("span",{class:"text-xs font-black text-slate-400 uppercase tracking-widest"},"Overall Progress",-1)),t("span",Zs,c(s.globalTotal>0?Math.round(s.globalDone/s.globalTotal*100):0)+"%",1)]),t("div",Ks,[t("div",{class:"h-full bg-gradient-to-r from-amber-400 to-orange-500 rounded-full transition-all duration-300 ease-out",style:G({width:s.globalTotal>0?`${s.globalDone/s.globalTotal*100}%`:"0%"})},null,4)]),t("div",Js,c(s.globalDone)+" / "+c(s.globalTotal)+" pages rendered",1)]),t("div",Ys,[t("div",qs,[t("span",Xs,c(s.currentGroupIcon),1),t("div",null,[t("div",$s,c(s.currentGroupName),1),t("div",eo,c(s.currentGroupProgress),1)])]),t("div",to,[t("div",{class:"h-full bg-emerald-400 rounded-full transition-all duration-200",style:G({width:`${s.groupPct}%`})},null,4)])]),t("div",so,[(d(!0),i(y,null,v(s.completedGroups,(o,u)=>(d(),i("div",{key:u,class:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5"},[t("span",null,c(o.icon),1),t("span",oo,c(o.name),1),t("span",ro,"‚úì "+c(o.count)+" pages",1)]))),128))])])):s.state==="folders"?(d(),i("div",no,[(d(!0),i(y,null,v(s.downloadedGroups,(o,u)=>(d(),i("div",{key:u,onClick:h=>n.shareGroup(o),class:"flex items-center gap-4 p-4 rounded-2xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 active:scale-[0.98] transition-all cursor-pointer"},[t("div",lo,c(o.icon),1),t("div",io,[t("div",co,c(o.folder),1),t("div",uo,[_(c(o.fileUris.length)+" pages ",1),o.fileUris.length>99?(d(),i("span",go," ‚Ä¢ "+c(Math.ceil(o.fileUris.length/99))+" batches ",1)):b("",!0)])]),e[12]||(e[12]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-10 h-10 rounded-full bg-[#25D366]/20 flex items-center justify-center"},[t("i",{class:"fa-brands fa-whatsapp text-[#25D366] text-lg"})])],-1))],8,ao))),128))])):b("",!0),s.isSharing?(d(),i("div",ho,[t("div",po,[t("div",bo,[e[14]||(e[14]=t("div",{class:"w-16 h-16 bg-[#25D366]/20 rounded-full flex items-center justify-center mx-auto mb-4"},[t("i",{class:"fa-brands fa-whatsapp text-3xl text-[#25D366]"})],-1)),t("h3",fo,c(s.sharingGroupName),1),t("p",mo,[_(" Batch "+c(s.currentBatchIndex+1)+" of "+c(n.totalBatches)+" ",1),e[13]||(e[13]=t("br",null,null,-1)),t("span",xo,"("+c(n.currentBatchSize)+" images in this batch)",1)])]),t("div",wo,[t("div",{class:"h-full bg-[#25D366] rounded-full transition-all duration-300",style:G({width:`${s.currentBatchIndex/n.totalBatches*100}%`})},null,4)]),t("button",{onClick:e[3]||(e[3]=(...o)=>n.executeBatchShare&&n.executeBatchShare(...o)),class:"w-full py-4 bg-[#25D366] hover:bg-[#128C7E] text-white font-bold rounded-xl shadow-xl active:scale-[0.95] transition-all flex items-center justify-center gap-3 text-lg"},[t("span",null,"Share Batch "+c(s.currentBatchIndex+1),1),e[15]||(e[15]=t("i",{class:"fa-solid fa-arrow-right"},null,-1))]),t("button",{onClick:e[4]||(e[4]=(...o)=>n.cancelShare&&n.cancelShare(...o)),class:"w-full py-3 text-slate-500 font-bold hover:text-slate-300 transition-colors"}," Cancel ")])])):b("",!0),s.showToast?(d(),i("div",yo,[t("div",vo,[e[16]||(e[16]=t("i",{class:"fa-solid fa-circle-check text-emerald-400"},null,-1)),t("span",ko,c(s.toastMessage),1)])])):b("",!0)])}const Bo=W(Rs,[["render",_o],["__scopeId","data-v-de147867"]]),Co=[{path:"/",component:q},{path:"/pdf-gen",component:js},{path:"/upload",component:X},{path:"/latest-stock",component:Bo}],To=Q({history:H(),routes:Co});export{To as default};
