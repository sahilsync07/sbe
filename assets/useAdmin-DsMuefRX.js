const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-C98jONrl.js","assets/index-D5bctyeh.js","assets/index-BLiaSNTk.css","assets/web-Bc7153O-.js"])))=>i.map(i=>d[i]);
import{O as A,q as E,p,_ as w,l as C,x as l}from"./index-D5bctyeh.js";const _=A({cart:[],searchQuery:"",lastSyncTime:null,isSyncing:!1,uploading:{},isMobile:!1,isSidebarOpen:!1,isCartOpen:!1,addToCart(e){const t=this.cart.find(a=>a.product.productName===e.productName);t?t.quantity++:this.cart.push({product:e,quantity:1})},removeFromCart(e){this.cart.splice(e,1)},updateCartQuantity(e,t){const a=this.cart[e];a&&(a.quantity+=t,a.quantity<=0&&this.removeFromCart(e))},clearCart(){this.cart=[]},setAdmin(e){this.isAdmin=e},setSyncTime(e){this.lastSyncTime=e}});E(()=>_.cart.reduce((e,t)=>e+t.quantity,0));function h(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,a){return new Proxy({},{get(S,s){return(v,y,r)=>{const o=e.Capacitor.Plugins[a];if(o===void 0){r(new Error(`Capacitor plugin ${a} not found`));return}if(typeof o[s]!="function"){r(new Error(`Method ${s} not found in Capacitor plugin ${a}`));return}(async()=>{try{const u=await o[s](v);y(u)}catch(u){r(u)}})()}}})}})}function T(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,a){return e.cordova.plugins[a]}})}function g(e=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?h(window):window.cordova!==void 0&&T(window))}var d;(function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE",e.ExternalCache="EXTERNAL_CACHE",e.LibraryNoCloud="LIBRARY_NO_CLOUD",e.Temporary="TEMPORARY"})(d||(d={}));var f;(function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"})(f||(f={}));const L=p("Filesystem",{web:()=>w(()=>import("./web-C98jONrl.js"),__vite__mapDeps([0,1,2])).then(e=>new e.FilesystemWeb)});g();const c=p("Preferences",{web:()=>w(()=>import("./web-Bc7153O-.js"),__vite__mapDeps([3,1,2])).then(e=>new e.PreferencesWeb)}),i=C(!1),n=C(!1);let m=!1;function P(){const e=async()=>{if(!m){m=!0;try{const{value:a}=await c.get({key:"sbe_admin_role"});a==="admin"?(i.value=!0,n.value=!1):a==="superadmin"&&(i.value=!1,n.value=!0)}catch(a){console.error("Failed to load admin state",a)}}};return e(),{isAdmin:i,isSuperAdmin:n,promptAdminLogin:async()=>{if(i.value||n.value)return;const a=prompt("Enter admin password:");a&&(a==="admin123"?(i.value=!0,n.value=!1,await c.set({key:"sbe_admin_role",value:"admin"}),l.success("Admin Mode Enabled",{autoClose:2e3})):a==="superadmin"?(i.value=!1,n.value=!0,await c.set({key:"sbe_admin_role",value:"superadmin"}),l.success("Super Admin Mode Enabled",{autoClose:2e3})):l.error("Incorrect password",{autoClose:3e3}))},checkAdminState:e}}export{d as D,f as E,L as F,_ as s,P as u};
