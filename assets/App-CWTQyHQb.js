const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-z7LkriVe.js","assets/index-D5bctyeh.js","assets/index-BLiaSNTk.css"])))=>i.map(i=>d[i]);
import{u as r}from"./useAdmin-DsMuefRX.js";import{p as c}from"./nativeCache-aSId2zMK.js";import{p as u,_ as d,C as l,o as p,c as f,b as m,r as _,d as h}from"./index-D5bctyeh.js";var s;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(s||(s={}));const i=u("LocalNotifications",{web:()=>d(()=>import("./web-z7LkriVe.js"),__vite__mapDeps([0,1,2])).then(t=>new t.LocalNotificationsWeb)});async function y(){if(!l.isNativePlatform())return;const{isAdmin:t,isSuperAdmin:o}=r();if(!(!t.value&&!o.value))try{if((await i.requestPermissions()).display!=="granted")return;const a=await i.getPending();a.notifications.length>0&&await i.cancel(a),await i.schedule({notifications:[{title:"Morning Stock Sync ðŸ“¦",body:"Tap here to update your offline catalog with the latest stock items and prices.",id:1,schedule:{on:{hour:9,minute:0},repeats:!0},sound:null,autoCancel:!0}]}),i.addListener("localNotificationActionPerformed",e=>{e.notification.id===1&&c()})}catch(n){console.error("Failed to schedule daily sync notification",n)}}const w={class:"min-h-screen"},A={__name:"App",setup(t){const{checkAdminState:o}=r();return p(async()=>{await o(),await y(),await c()}),(n,a)=>{const e=_("router-view");return h(),f("div",w,[m(e)])}}};export{A as default};
